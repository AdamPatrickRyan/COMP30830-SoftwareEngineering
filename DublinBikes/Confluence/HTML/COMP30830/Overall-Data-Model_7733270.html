<!DOCTYPE html>
<html>
    <head>
        <title>Disappster : Overall Data Model</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Disappster</a></span>
                            </li>
                                                    <li>
                                <span><a href="Disappster-Home_33079.html">Disappster Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="System-Design_33384.html">System Design</a></span>
                            </li>
                                                    <li>
                                <span><a href="Data-Model_33427.html">Data Model</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Disappster : Overall Data Model
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Adam Ryan</span>, last modified on Apr 15, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>This page details the ER of the schema. Each Table should be details as a separate page in the Data Model section.</p><h2 id="OverallDataModel-OverallERandDataArchitecture">Overall ER and Data Architecture</h2><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/7733270/80347245.jpg" data-image-src="attachments/7733270/80347245.jpg" data-height="5500" data-width="3400" data-unresolved-comment-count="0" data-linked-resource-id="80347245" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Master-EntityRelationship-Final.jpg" data-base-url="https://disappster.atlassian.net/wiki" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="7733270" data-linked-resource-container-version="8" data-media-id="91798056-2b9f-4e1b-86c5-eacca4e53f4f" data-media-type="file"></span><p /><p>Source File: Keep Up to Date</p><p class="media-group"><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="attachments/7733270/80412829.drawio" data-nice-type="null" data-file-src="/wiki/download/attachments/7733270/Master-EntityRelationship-Final.drawio?version=1&amp;modificationDate=1618518487854&amp;cacheVersion=1&amp;api=v2" data-linked-resource-id="80412829" data-linked-resource-type="attachment" data-linked-resource-container-id="7733270" data-linked-resource-default-alias="Master-EntityRelationship-Final.drawio" data-mime-type="application/octet-stream" data-has-thumbnail="true" data-linked-resource-version="1" data-media-id="a56c2a5e-9dfc-4180-82f5-0ec9d247b494" data-media-type="file"><img src="attachments/thumbnails/7733270/80412829" height="250"/></a></span></p><h2 id="OverallDataModel-Extract">Extract</h2><p>This section details tables in the Extract Tables.</p><p>


<div class="plugin_pagetree">

                        
                
        <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
            <div class="plugin_pagetree_children">
            </div>
        </ul>

        <fieldset class="hidden">
            <input type="hidden" name="treeId" value="">
            <input type="hidden" name="treeRequestId"
                   value="/wiki/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
            <input type="hidden" name="treePageId" value="7733270">

            <input type="hidden" name="noRoot" value="false">
            <input type="hidden" name="rootPageId" value="7733277">

            <input type="hidden" name="rootPage" value="">
            <input type="hidden" name="startDepth" value="0">
            <input type="hidden" name="spaceKey" value="COMP30830">

            <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
            <input type="hidden" name="i18n-pagetree.error.permission"
                   value="Unable to load page tree. It seems that you do not have permission to view the root page.">
            <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
            <input type="hidden" name="loginUrl" value="">
            <input type="hidden" name="mobile" value="false">

                        <fieldset class="hidden">
                                                            <input type="hidden" name="ancestorId" value="33427">
                                            <input type="hidden" name="ancestorId" value="33384">
                                            <input type="hidden" name="ancestorId" value="33079">
                                                </fieldset>
        </fieldset>
    </div>

</p><h2 id="OverallDataModel-Transform">Transform</h2><p>This section details tables in the Transform Section.</p><h3 id="OverallDataModel-FrontEndTables">Front End Tables</h3><p>This section details tables in the Transform Section for Front End and visualisation.</p><p>


<div class="plugin_pagetree">

                <div id="pagetree-error" class="error">
        <span class="errorMessage">
                                            The root page Page: Transform - Frontend Store could not be found in space Disappster. <br>
                    <span>
        </div>
    </div>

</p><h3 id="OverallDataModel-MachineLearningTables">Machine Learning Tables</h3><p>This section details tables in the Transform Section for Machine Learning Capabilities.</p><p>


<div class="plugin_pagetree">

                        
                
        <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
            <div class="plugin_pagetree_children">
            </div>
        </ul>

        <fieldset class="hidden">
            <input type="hidden" name="treeId" value="">
            <input type="hidden" name="treeRequestId"
                   value="/wiki/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
            <input type="hidden" name="treePageId" value="7733270">

            <input type="hidden" name="noRoot" value="false">
            <input type="hidden" name="rootPageId" value="17268774">

            <input type="hidden" name="rootPage" value="">
            <input type="hidden" name="startDepth" value="0">
            <input type="hidden" name="spaceKey" value="COMP30830">

            <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
            <input type="hidden" name="i18n-pagetree.error.permission"
                   value="Unable to load page tree. It seems that you do not have permission to view the root page.">
            <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
            <input type="hidden" name="loginUrl" value="">
            <input type="hidden" name="mobile" value="false">

                        <fieldset class="hidden">
                                                            <input type="hidden" name="ancestorId" value="33427">
                                            <input type="hidden" name="ancestorId" value="33384">
                                            <input type="hidden" name="ancestorId" value="33079">
                                                </fieldset>
        </fieldset>
    </div>

</p><h2 id="OverallDataModel-Load">Load</h2><p>This section details tables in the Load section which will be displayed to the customer.</p><p>


<div class="plugin_pagetree">

                        
                
        <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
            <div class="plugin_pagetree_children">
            </div>
        </ul>

        <fieldset class="hidden">
            <input type="hidden" name="treeId" value="">
            <input type="hidden" name="treeRequestId"
                   value="/wiki/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
            <input type="hidden" name="treePageId" value="7733270">

            <input type="hidden" name="noRoot" value="false">
            <input type="hidden" name="rootPageId" value="7733287">

            <input type="hidden" name="rootPage" value="">
            <input type="hidden" name="startDepth" value="0">
            <input type="hidden" name="spaceKey" value="COMP30830">

            <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
            <input type="hidden" name="i18n-pagetree.error.permission"
                   value="Unable to load page tree. It seems that you do not have permission to view the root page.">
            <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
            <input type="hidden" name="loginUrl" value="">
            <input type="hidden" name="mobile" value="false">

                        <fieldset class="hidden">
                                                            <input type="hidden" name="ancestorId" value="33427">
                                            <input type="hidden" name="ancestorId" value="33384">
                                            <input type="hidden" name="ancestorId" value="33079">
                                                </fieldset>
        </fieldset>
    </div>

</p><h2 id="OverallDataModel-DatabaseDictionary">Database Dictionary</h2><p>This section contains the database schema:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: python; gutter: false; theme: RDark" data-theme="RDark">
database_schema={
                    &#39;01_station&#39;:{
                              &#39;address&#39;:&#39;VARCHAR(256)&#39;
                              ,&#39;banking&#39;:&#39;INTEGER&#39;
                              ,&#39;bike_stands&#39;:&#39;INTEGER&#39;
                              ,&#39;bonus&#39;:&#39;INTEGER&#39;
                              ,&#39;contract_name&#39;:&#39;VARCHAR(256)&#39;
                              ,&#39;name&#39;:&#39;VARCHAR(256)&#39;
                              ,&#39;number&#39;:&#39;INTEGER&#39;
                              ,&#39;position_lat&#39;:&#39;REAL&#39;
                              ,&#39;position_long&#39;:&#39;REAL&#39;
                              ,&#39;created_date&#39;: &#39;BIGINT&#39;
                                }
                    ,&#39;01_availability&#39;:{
                                &#39;number&#39;:&#39;INTEGER&#39;
                                ,&#39;available_bikes&#39;:&#39;INTEGER&#39;
                                ,&#39;available_bike_stands&#39;:&#39;INTEGER&#39;
                                ,&#39;last_update&#39;:&#39;BIGINT&#39;
                                ,&#39;created_date&#39;:&#39;BIGINT&#39;
                                }
    
                    ,&#39;01_weather&#39;:{
                                &#39;number&#39;: &#39;INT&#39;
                                ,&#39;position_long&#39;:&#39;REAL&#39;
                                ,&#39;position_lat&#39;:&#39;REAL&#39;
                                ,&#39;weather_id&#39;:&#39;INTEGER&#39;
                                ,&#39;main&#39;:&#39;VARCHAR(256)&#39;
                                ,&#39;description&#39;:&#39;VARCHAR(500)&#39;
                                ,&#39;icon&#39;:&#39;VARCHAR(20)&#39;
                                ,&#39;icon_url&#39;:&#39;VARCHAR(500)&#39;
                                ,&#39;base&#39;:&#39;varchar(256)&#39;
                                ,&#39;temp&#39;:&#39;REAL&#39;
                                ,&#39;feels_like&#39;:&#39;REAL&#39;
                                ,&#39;temp_min&#39;:&#39;REAL&#39;
                                ,&#39;temp_max&#39;:&#39;REAL&#39;
                                ,&#39;pressure&#39;:&#39;INT&#39;
                                ,&#39;humidity&#39;:&#39;INT&#39;
                                ,&#39;visibility&#39;:&#39;INT&#39;
                                ,&#39;wind_speed&#39;:&#39;REAL&#39;
                                ,&#39;wind_degree&#39;:&#39;INT&#39;
                                ,&#39;clouds_all&#39;:&#39;INT&#39;
                                ,&#39;datetime&#39;:&#39;BIGINT&#39;
                                ,&#39;sys_id&#39;:&#39;INT&#39;
                                ,&#39;sys_country&#39;:&#39;VARCHAR(10)&#39;
                                ,&#39;sys_sunrise&#39;:&#39;BIGINT&#39;
                                ,&#39;sys_sunset&#39;:&#39;BIGINT&#39;
                                ,&#39;sys_type&#39;:&#39;INT&#39;
                                ,&#39;timezone&#39;:&#39;INT&#39;
                                ,&#39;id&#39;:&#39;BIGINT&#39;
                                ,&#39;name&#39;:&#39;VARCHAR(256)&#39;
                                ,&#39;cod&#39;:&#39;INT&#39;
                                ,&#39;created_date&#39;:&#39;BIGINT&#39;
                                }

                    ,&#39;01_forecast&#39;:{
                                &#39;number&#39;: &#39;INT&#39;
                                ,&#39;position_long&#39;:&#39;REAL&#39;
                                ,&#39;position_lat&#39;:&#39;REAL&#39;
                                ,&#39;weather_id&#39;:&#39;INTEGER&#39;
                                ,&#39;main&#39;:&#39;VARCHAR(256)&#39;
                                ,&#39;description&#39;:&#39;VARCHAR(500)&#39;
                                ,&#39;icon&#39;:&#39;VARCHAR(20)&#39;
                                ,&#39;icon_url&#39;:&#39;VARCHAR(500)&#39;
                                ,&#39;temp&#39;:&#39;REAL&#39;
                                ,&#39;feels_like&#39;:&#39;REAL&#39;
                                ,&#39;temp_min&#39;:&#39;REAL&#39;
                                ,&#39;temp_max&#39;:&#39;REAL&#39;
                                ,&#39;pressure&#39;:&#39;INT&#39;
                                ,&#39;humidity&#39;:&#39;INT&#39;
                                ,&#39;visibility&#39;:&#39;INT&#39;
                                ,&#39;wind_speed&#39;:&#39;REAL&#39;
                                ,&#39;wind_degree&#39;:&#39;INT&#39;
                                ,&#39;clouds_all&#39;:&#39;INT&#39;
                                ,&#39;forecast_time_ts&#39;:&#39;BIGINT&#39;
                                ,&#39;forecast_time_dt&#39;:&#39;DATETIME&#39;
                                ,&#39;created_date&#39;:&#39;BIGINT&#39;
                                }
    
                    ,&#39;02_station_avail_weather_train&#39;:{
                                &#39;number&#39;:&#39;INTEGER&#39;
                                , &#39;weather_type_id&#39;:&#39;INTEGER&#39;
                                , &#39;hour&#39;:&#39;INTEGER&#39;
                                , &#39;dayofweek&#39;:&#39;INTEGER&#39;
                                , &#39;dayofmonth&#39;:&#39;INTEGER&#39;
                                , &#39;bool_weekend&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_dayoff&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_workhour&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_commutehour&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_night&#39;:&#39;BOOLEAN&#39;
                                , &#39;available_bikes&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_temp_feels_like&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_temp&#39;:&#39;REAL&#39; #average over everything
                               ,  &#39;weather_humidity&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_air_pressure&#39;:&#39;REAL&#39; #average over everything
                                , &#39;created_date&#39;:&#39;BIGINT&#39;
                                ,&#39;minute&#39;:&#39;INTEGER&#39;
                                ,&#39;month&#39;:&#39;INTEGER&#39;
                                ,&#39;year&#39;:&#39;INTEGER&#39;
                                }
    
,                   &#39;02_station_avail_weather_test&#39;:{
                                &#39;number&#39;:&#39;INTEGER&#39;
                                , &#39;weather_type_id&#39;:&#39;INTEGER&#39;
                                , &#39;hour&#39;:&#39;INTEGER&#39;
                                , &#39;dayofweek&#39;:&#39;INTEGER&#39;
                                , &#39;dayofmonth&#39;:&#39;INTEGER&#39;
                                , &#39;bool_weekend&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_dayoff&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_workhour&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_commutehour&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_night&#39;:&#39;BOOLEAN&#39;
                                , &#39;available_bikes&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_temp_feels_like&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_temp&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_humidity&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_air_pressure&#39;:&#39;REAL&#39; #average over everything
                                , &#39;created_date&#39;:&#39;BIGINT&#39;
                                ,&#39;minute&#39;:&#39;INTEGER&#39;
                                ,&#39;month&#39;:&#39;INTEGER&#39;
                                ,&#39;year&#39;:&#39;INTEGER&#39;
                                }
    
    ,                   &#39;03_user_model_entry&#39;:{
                                &#39;prediction_id&#39;:&#39;INTEGER NOT NULL AUTO_INCREMENT&#39;
                                ,&#39;number&#39;:&#39;INTEGER&#39;
                                , &#39;weather_type_id&#39;:&#39;INTEGER&#39;
                                , &#39;hour&#39;:&#39;INTEGER&#39;
                                , &#39;dayofweek&#39;:&#39;INTEGER&#39;
                                , &#39;dayofmonth&#39;:&#39;INTEGER&#39;
                                , &#39;bool_weekend&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_dayoff&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_workhour&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_commutehour&#39;:&#39;BOOLEAN&#39;
                                , &#39;bool_night&#39;:&#39;BOOLEAN&#39;
                                , &#39;available_bikes&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_temp_feels_like&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_temp&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_humidity&#39;:&#39;REAL&#39; #average over everything
                                , &#39;weather_air_pressure&#39;:&#39;REAL&#39; #average over everything
                                , &#39;user_date&#39;:&#39;BIGINT&#39;        
                                , &#39;created_date&#39;:&#39;BIGINT&#39;
                                , &#39;predicted_date&#39;:&#39;BIGINT&#39;
                                , &#39;model_type&#39;:&#39;VARCHAR(100)&#39;
                                , &#39;bool_correct_prediction&#39;:&#39;BOOLEAN&#39;
                                ,&#39;minute&#39;:&#39;INTEGER&#39;
                                ,&#39;month&#39;:&#39;INTEGER&#39;
                                ,&#39;year&#39;:&#39;INTEGER&#39;
                                }
                }
</pre>
</div></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7733270/17235971.png">Master-EntityRelationship.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7733270/17170441.drawio">Master-EntityRelationship-3.drawio</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7733270/17236171.png">Master-EntityRelationship-2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7733270/17268897.drawio">Master-EntityRelationship-5.drawio</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7733270/80347245.jpg">Master-EntityRelationship-Final.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7733270/80412829.drawio">Master-EntityRelationship-Final.drawio</a> (application/octet-stream)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 25, 2021 14:55</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
